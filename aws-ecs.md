# AWS ECS についてのメモ

- ECS 遣いになりたいネ

## AWS VPC とは

- Virtual Private Cloud 他の人のクラウドや public と切り離された空間。
- 外から穴を開けるのは、コンテナを作る時に「パブリックネットワーク」的な指定をする。
- パブリックネットワークの細かな設定は自分でする。グローバル ip やグローバル URI がもらえる。
- 自分の PC の terminal から接続するのは、アカウントの鍵とか設定してるので「穴」から繋ぐのではない。

## AWS ECS とは

- docker コンテナ(EC2/Fargate)をスケーリングなど何台か運用するためのオーケストレーションツール

### AWS ECS の設定項目

* クラスタ: コンテナ群の名前空間名てきなかんじ
* タスク定義: コンテナイメージを登録して、コンテナの雛形を登録する
* タスク: タスク定義を利用して、コンテナを作る。Fargate の場合は = コンテナでよろしい
* サービス: コンテナ群の自動管理。個数管理や、スケーリングをする

### AWS ECS @ EC2 の運用フロー
- github に push
- EC2 で pull
- docker run てきな
- で合ってる？

### AWS ECS @ Fargate の運用フロー
- local で docker-compose, イメージを AWS のリポジトリに push
- GUI でイメージを選んで実行
- 高いけどスケーリング楽だよ
- で合ってる？
